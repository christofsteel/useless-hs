<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.Useless</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-Useless.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption" class="empty">&nbsp;</p></div><div id="content"><div id="module-header"><p class="caption">Network.Useless</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Useless is a Module for building Webapplications
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:HTTPRequest">HTTPRequest</a>  = <a href="#v:HTTPRequest">HTTPRequest</a> {<ul class="subs"><li><a href="#v:httpReqMethod">httpReqMethod</a> :: String</li><li><a href="#v:httpReqVersion">httpReqVersion</a> :: String</li><li><a href="#v:httpReqFile">httpReqFile</a> :: String</li><li><a href="#v:httpReqQueries">httpReqQueries</a> :: [(String, String)]</li><li><a href="#v:httpReqHeader">httpReqHeader</a> :: [(String, String)]</li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:HTTPResponse">HTTPResponse</a>  = <a href="#v:HTTPResponse">HTTPResponse</a> {<ul class="subs"><li><a href="#v:httpResStatus">httpResStatus</a> :: Integer</li><li><a href="#v:httpResHeader">httpResHeader</a> :: [(String, String)]</li><li><a href="#v:httpResBody">httpResBody</a> :: String</li></ul>}</li><li class="src short"><a href="#v:initUseless">initUseless</a> :: IO Useless</li><li class="src short"><a href="#v:register">register</a> :: Useless -&gt; String -&gt; <a href="Network-Useless.html#t:UselessSite">UselessSite</a> -&gt; IO ()</li><li class="src short"><a href="#v:createBasicHTTP">createBasicHTTP</a> :: String -&gt; <a href="Network-Useless.html#t:HTTPResponse">HTTPResponse</a></li><li class="src short"><a href="#v:createErrorResponse">createErrorResponse</a> :: Integer -&gt; <a href="Network-Useless.html#t:UselessSite">UselessSite</a></li><li class="src short"><a href="#v:addToUseless">addToUseless</a> :: Useless -&gt; String -&gt; String -&gt; IO ()</li><li class="src short"><a href="#v:startServer">startServer</a> :: Integer -&gt; Useless -&gt; IO ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:UselessSite">UselessSite</a> = Useless -&gt; <a href="Network-Useless.html#t:HTTPRequest">HTTPRequest</a> -&gt; IO <a href="Network-Useless.html#t:HTTPResponse">HTTPResponse</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:UselessData">UselessData</a>  = <a href="#v:UselessData">UselessData</a> {<ul class="subs"><li><a href="#v:sites">sites</a> :: Map String <a href="Network-Useless.html#t:UselessSite">UselessSite</a></li><li><a href="#v:stringmap">stringmap</a> :: Map String String</li></ul>}</li><li class="src short"><a href="#v:getUselessData">getUselessData</a> :: Useless -&gt; IO <a href="Network-Useless.html#t:UselessData">UselessData</a></li><li class="src short"><a href="#v:requestFromUseless">requestFromUseless</a> :: Useless -&gt; String -&gt; IO (Maybe String)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:HTTPRequest" class="def">HTTPRequest</a>  </p><div class="doc"><p>The HTTP Request
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HTTPRequest" class="def">HTTPRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:httpReqMethod" class="def">httpReqMethod</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:httpReqVersion" class="def">httpReqVersion</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:httpReqFile" class="def">httpReqFile</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:httpReqQueries" class="def">httpReqQueries</a> :: [(String, String)]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:httpReqHeader" class="def">httpReqHeader</a> :: [(String, String)]</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:HTTPResponse" class="def">HTTPResponse</a>  </p><div class="doc"><p>The HTTP Response
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HTTPResponse" class="def">HTTPResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:httpResStatus" class="def">httpResStatus</a> :: Integer</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:httpResHeader" class="def">httpResHeader</a> :: [(String, String)]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:httpResBody" class="def">httpResBody</a> :: String</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:initUseless" class="def">initUseless</a> :: IO Useless</p><div class="doc"><p>initUseless initializes a <code>Useless</code> server layout.
 It has to be called befor all <code><a href="Network-Useless.html#v:register">register</a></code> calles
</p></div></div><div class="top"><p class="src"><a name="v:register" class="def">register</a> :: Useless -&gt; String -&gt; <a href="Network-Useless.html#t:UselessSite">UselessSite</a> -&gt; IO ()</p><div class="doc"><p><code><a href="Network-Useless.html#v:register">register</a></code> adds resources to your a server layout, and returns a new server layout.
</p><p>The given <code><a href="Network-Useless.html#t:UselessSite">UselessSite</a></code> function is called, whenever someone requests the resource.
</p><p>e.g:
</p><pre>  server = do 
  	layout &lt;- initUseless
  	register layout &quot;/test&quot; someFunction
</pre></div></div><div class="top"><p class="src"><a name="v:createBasicHTTP" class="def">createBasicHTTP</a> :: String -&gt; <a href="Network-Useless.html#t:HTTPResponse">HTTPResponse</a></p><div class="doc"><p><code><a href="Network-Useless.html#v:createBasicHTTP">createBasicHTTP</a></code> creates a very Basic HTTP response from a given String
</p></div></div><div class="top"><p class="src"><a name="v:createErrorResponse" class="def">createErrorResponse</a> :: Integer -&gt; <a href="Network-Useless.html#t:UselessSite">UselessSite</a></p><div class="doc"><p><code><a href="Network-Useless.html#v:createErrorResponse">createErrorResponse</a></code> returns a <code><a href="Network-Useless.html#t:UselessSite">UselessSite</a></code> function , for a given HTTP Status code
</p><p>e.g:
</p><pre>  	register myServer &quot;/forbidden&quot; (createErrorResponse 403)
</pre></div></div><div class="top"><p class="src"><a name="v:addToUseless" class="def">addToUseless</a> :: Useless -&gt; String -&gt; String -&gt; IO ()</p><div class="doc"><p><code><a href="Network-Useless.html#v:addToUseless">addToUseless</a></code> adds a Key Value Pair to a shared Useless object
</p><p>If the key already has a value, it will be overwritten.
</p><p>e.g:
</p><pre>import Network.Useless
import Maybe

main = do
       theServer &lt;- initUseless
       register theServer &quot;/&quot; showMe
       register theServer &quot;/change&quot; testadd
       startServer 8080 theServer

showMe :: UselessSite
showMe useless request = do
       val &lt;- requestFromUseless useless &quot;ThisSite&quot;
       return $ createBasicHTTP $ fromMaybe &quot;Not Visited&quot; val

testadd :: UselessSite
testadd useless request = do
        addToUseless useless &quot;ThisSite&quot; &quot;Visited&quot;
        return $ createBasicHTTP $ &quot;Nichts zu sehen&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:startServer" class="def">startServer</a> :: Integer -&gt; Useless -&gt; IO ()</p><div class="doc"><p>startServer starts the server at a specific Port
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:UselessSite" class="def">UselessSite</a> = Useless -&gt; <a href="Network-Useless.html#t:HTTPRequest">HTTPRequest</a> -&gt; IO <a href="Network-Useless.html#t:HTTPResponse">HTTPResponse</a></p><div class="doc"><p><code><a href="Network-Useless.html#t:UselessSite">UselessSite</a></code> is the type for your Useless functions.
</p><pre>   testsite :: UselessSite
   testsite useless request = return $ HTTPResponse {httpResStatus = 200, httpResHeader=[(&quot;foo:&quot;, &quot;Bar,Baz&quot;)], httpResBody=&quot;Test123&quot;}
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:UselessData" class="def">UselessData</a>  </p><div class="doc"><p><code><a href="Network-Useless.html#t:UselessData">UselessData</a></code> consists of the sites, that can be served by your Server and a String Map, that can be used for Shared memory (Future versions will expand this)
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:UselessData" class="def">UselessData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:sites" class="def">sites</a> :: Map String <a href="Network-Useless.html#t:UselessSite">UselessSite</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:stringmap" class="def">stringmap</a> :: Map String String</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:getUselessData" class="def">getUselessData</a> :: Useless -&gt; IO <a href="Network-Useless.html#t:UselessData">UselessData</a></p><div class="doc"><p><code><a href="Network-Useless.html#v:getUselessData">getUselessData</a></code> returns the <code><a href="Network-Useless.html#t:UselessData">UselessData</a></code> associated with a <code>Useless</code> shared memory
</p></div></div><div class="top"><p class="src"><a name="v:requestFromUseless" class="def">requestFromUseless</a> :: Useless -&gt; String -&gt; IO (Maybe String)</p><div class="doc"><p><code><a href="Network-Useless.html#v:requestFromUseless">requestFromUseless</a></code> looksup a String in the shared Memory. If no such Value for the Key is found, <a href="Nothing.html">Nothing</a> is returned.
</p><p>see <code><a href="Network-Useless.html#v:addToUseless">addToUseless</a></code> for an example.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.9.2</p></div></body></html>